@model RelianceMkt.Models.channel

<div>
    <form id="myForm">
        <div class="row">
            <div class="col-md-8">
                @Html.HiddenFor(m => m.channel_id)
                <div class="form-group">
                    <label class="text-black font-w500 mb-3">Channel:</label>
                    @*@Html.DropDownListFor(m => m.channel_name, ViewBag.NEW_TEMP_HIERARCHY as List<SelectListItem>, "-- Select Channel Name --", new { @class = "form-control", @required = "true" })*@
                   
                    @Html.DropDownListFor(m => m.subchannel_name, ViewBag.NEW_TEMP_HIERARCHY as List<SelectListItem>, "-- Select Channel Name --", new { @class = "form-control", @required = "true" })

                    @*@Html.DropDownListFor(m => m.subchannel_name, ViewBag.NEW_TEMP_HIERARCHY as IEnumerable<SelectListItem> ?? new List<SelectListItem> { new SelectListItem { Value = "", Text = "-- No Categories Available --", Disabled = true } }, "-- Select  Channel Name --", new { @class = "form-control", @required = "true" })*@

                </div>
                <div class="form-group">
                    <label class="text-black font-w500 mb-3">Channel Name:</label>
                    @Html.TextBoxFor(m => m.channel_name, new { @class = "form-control", @placeholder = "Enter Channel Name", @required = "true" })
                </div>
            </div>
            <div class="col-md-4">
                <a href="#" id="btnSubmit" class="btn btn-success btn-block">
                    @if (Model.channel_id > 0)
                    {
                        <span>Update</span>
                    }
                    else
                    {
                        <span>Save</span>
                    }
                </a>
            </div>
        </div>
    </form>
</div>

<script>
    $(document).ready(function () {
        $("#btnSubmit").click(function (e) {
            e.preventDefault();
            var myformdata = $("#myForm").serialize();
            $.ajax({
                type: "POST",
                url: '@Url.Action("EditChannel", "Marketing")',
                data: myformdata,
                success: function () {
                    $("#edit-modal").modal("hide");
                    window.location.href = '@Url.Action("ChannelList", "Marketing")';
                },
                error: function () {
                    alert("Error occurred while saving.");
                }
            });
        });
    });
</script>